<div class="container">
    <div class="row title py-3">
        <div class="col-sm-9 p-0">
            <h1>Summary</h1>
        </div>
        <div class="col-sm-3 p-0">
            <select class="ddl_default form-control" [(ngModel)]="reportModel" (change)="getData()">
                <option>Monthly</option>
                <option>Yearly</option>
            </select>
        </div>
    </div>
    <div class="row ">
        <div class="col-sm-3 pl-0">
            <div class="backgroundWhite">
                <div class="text-center p-2">
                    Total Inquiries
                    <span class="float-right">
                        <a>
                            <i class="fa fa-refresh" aria-hidden="true"></i>
                        </a>
                    </span>
                    <hr class="m-2" />
                </div>
                <div class="row pl-3 pr-2 pb-2">
                    <div class="col-sm-2">
                        <a (click)="goto('one',-1)" *ngIf="!widget.one.first">
                            <i class="fa fa-caret-left caretFont" aria-hidden="true"></i>
                        </a>
                    </div>
                    <div class="col-sm-8 text-center colorlightGray">
                        {{reportModel !== 'Monthly'?'':( widget.one.monthName + ',') }} {{widget.one.year}}
                    </div>
                    <div class="col-sm-2">
                        <a (click)="goto('one',1)" *ngIf="!widget.one.last">
                            <i class="fa fa-caret-right caretFont" aria-hidden="true"></i>
                        </a>
                    </div>
                </div>
                <div class="row p-2">
                    <div class="col-sm-12 text-center colorDarkBlue">
                        <h4>{{widget.one.value}}</h4>
                    </div>
                </div>
                <div class="text-center p-2">
                    <a class="btn btn-default" (click)="getDetails('one')">Detail</a>
                </div>
            </div>
        </div>
        <div class="col-sm-3 pl-0">
            <div class="backgroundWhite">
                <div class="text-center p-2">
                    Complaints
                    <span class="float-right">
                        <a (click)="goto('two',0)">
                            <i class="fa fa-refresh" aria-hidden="true"></i>
                        </a>
                    </span>
                    <hr class="m-2" />
                </div>
                <div class="row pl-3 pr-2 pb-2">
                    <div class="col-sm-2">
                        <a (click)="goto('two',-1)" *ngIf="!widget.two.first">
                            <i class="fa fa-caret-left caretFont" aria-hidden="true"></i>
                        </a>
                    </div>
                    <div class="col-sm-8 text-center colorlightGray">
                        {{reportModel !== 'Monthly'?'':(widget.two.monthName + ',') }} {{widget.two.year}}
                    </div>
                    <div class="col-sm-2">
                        <a (click)="goto('two',1)" *ngIf="!widget.two.last">
                            <i class="fa fa-caret-right caretFont" aria-hidden="true"></i>
                        </a>
                    </div>
                </div>
                <div class="row p-2">
                    <div class="col-sm-12 text-center colorDarkBlue">
                        <h4>{{widget.two.value}}</h4>
                    </div>
                </div>
                <div class="text-center p-2">
                    <a class="btn btn-default" (click)="getDetails('two')">Detail</a>
                </div>
            </div>
        </div>
        <div class="col-sm-3 pl-0">
            <div class="backgroundWhite">
                <div class="text-center p-2">
                    Returns
                    <span class="float-right">
                        <a (click)="goto('three',0)">
                            <i class="fa fa-refresh" aria-hidden="true"></i>
                        </a>
                    </span>
                    <hr class="m-2" />
                </div>
                <div class="row pl-3 pr-2 pb-2">
                    <div class="col-sm-2">
                        <a (click)="goto('three',-1)" *ngIf="!widget.three.first">
                            <i class="fa fa-caret-left caretFont" aria-hidden="true"></i>
                        </a>
                    </div>
                    <div class="col-sm-8 text-center colorlightGray">
                        {{reportModel !== 'Monthly'?'':(widget.three.monthName + ',') }} {{widget.three.year}}
                    </div>
                    <div class="col-sm-2">
                        <a (click)="goto('three',1)" *ngIf="!widget.three.last">
                            <i class="fa fa-caret-right caretFont" aria-hidden="true"></i>
                        </a>
                    </div>
                </div>
                <div class="row p-2">
                    <div class="col-sm-12 text-center colorDarkBlue">
                        <h4>{{widget.three.value}}</h4>
                    </div>
                </div>
                <div class="text-center p-2">
                    <a class="btn btn-default" (click)="getDetails('three')">Detail</a>
                </div>
            </div>
        </div>
        <div class="col-sm-3 pl-0">
            <div class="backgroundWhite">
                <div class="text-center p-2">
                    Open Inquiries
                    <span class="float-right">
                        <a (click)="goto('four',0)">
                            <i class="fa fa-refresh" aria-hidden="true"></i>
                        </a>
                    </span>
                    <hr class="m-2" />
                </div>
                <div class="row pl-3 pr-2 pb-2">
                    <div class="col-sm-2">
                        <a (click)="goto('four',-1)" *ngIf="!widget.four.first">
                            <i class="fa fa-caret-left caretFont" aria-hidden="true"></i>
                        </a>
                    </div>
                    <div class="col-sm-8 text-center colorlightGray">
                        {{reportModel !== 'Monthly'?'':(widget.four.monthName + ',')}} {{widget.four.year}}
                    </div>
                    <div class="col-sm-2">
                        <a (click)="goto('four',1)" *ngIf="!widget.four.last">
                            <i class="fa fa-caret-right caretFont" aria-hidden="true"></i>
                        </a>
                    </div>
                </div>
                <div class="row p-2">
                    <div class="col-sm-12 text-center colorDarkBlue">
                        <h4>{{widget.four.value}}</h4>
                    </div>
                </div>
                <div class="text-center p-2">
                    <a class="btn btn-default" (click)="getDetails('four')">Detail</a>
                </div>
            </div>
        </div>
    </div>
    <div class="row mt-5">
        <div class="col-sm-6 backgroundWhite">
            <chart [type]="type_byType" [data]="data_byType" [options]="options_byType" style="width: 100%;height:400px;"></chart>
        </div>
        <div class="col-sm-6">
            <div class="backgroundWhite ">
                <div class="row">
                    <div class="text-center p-2 col-sm-6">
                        Top Inquiries, by Seller
                    </div>
                    <div class="col-sm-6 text-right">
                        <div class="col-sm-12">
                            <input type="text" placeholder="search by seller" class="form-control txt_Search" [(ngModel)]="retailerName" (keyup.enter)="getPage(1)" />
                        </div>
                        <div class="col-sm-12">
                            <select class="ddl_default form-control" [(ngModel)]="inquiryComplaintCategory" (change)="getPage(1)">
                                <option value=''>Complaints</option>
                                <option *ngFor="let option of inquiryComplaintCategorys" value="{{option}}">
                                    {{option}}
                                </option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="row p-2 m-2" *ngIf="retailerInquiries" >
                    <table class="p-0 w-100" width="100">
                        <thead>
                            <tr>
                                <th width="40%">Seller</th>
                                <th width="30%">Complaints</th>
                                <th width="30%">Open</th>
                            </tr>
                        </thead>
                        <tbody *ngFor="let retailerInquiry of retailerInquiries.content | paginate: { id: 'server', itemsPerPage: retailerInquiries.size, currentPage: retailerInquiries.number + 1 , totalItems: retailerInquiries.totalElements }; let idx = index">
                            <tr>
                                <td>{{retailerInquiry.businessName}}</td>
                                <td>{{retailerInquiry.count}}</td>
                                <td>{{retailerInquiry.open }}</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="col-sm-12 p-0 pt-3 pagination_align">
                        <pagination-controls id='server' class="my-pagination" (pageChange)="getPage($event)" screenReaderPaginationLabel="Pagination" screenReaderPageLabel="page" screenReaderCurrentLabel="You're on page"></pagination-controls>
                    </div>
                </div>
            </div>
            <div class="row p-2 mt-3">

            </div>
            <div class="row p-2">

            </div>
        </div>
    </div>
    <div class="row p-2 mt-3">
        <div class="col-sm-2">
            <select class="ddl_default form-control" [(ngModel)]="inquiryType" (change)="inquiryTypeChange()">
                <option value=''>Inquiry Type</option>
                <option *ngFor="let option of inquiryTypes" value="{{option.name}}">
                    {{option.value}}
                </option>
            </select>
        </div>
        <div class="col-sm-3">
            <select class="ddl_default form-control" [(ngModel)]="inquiryCategory" (change)="inquiryCategoryChange()">
                <option value=''>Inquiry Category</option>
                <option *ngFor="let option of inquiryCategorys" value="{{option}}">
                    {{option}}
                </option>
            </select>
        </div>
    </div>
    <div class="row p-2 mt-3 backgroundWhite">
        <chart [type]="type_byCategory" [data]="data_byCategory" [options]="options_byCategory" style="width: 100%;height:400px;"></chart>
    </div>
</div>