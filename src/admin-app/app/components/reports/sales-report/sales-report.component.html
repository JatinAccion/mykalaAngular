<div class="container">
    <div class="row title py-3">
        <div class="col-sm-9 p-0">
            <h1>Summary</h1>
        </div>
        <div class="col-sm-3 p-0">
            <select class="ddl_default form-control"  (change)="getData($event)">
                <option selected>Monthly</option>
                <option>Yearly</option>
            </select>
        </div>
    </div>
    <div class="row ">
        <div class="col-sm-4 pl-0">
            <div class="backgroundWhite">
                <div class="text-center p-2">
                    Transactions
                    <span class="float-right">
                        <a (click)="goto('one',0)">
                            <i class="fa fa-refresh" aria-hidden="true"></i>
                        </a>
                    </span>
                    <hr class="m-2" />
                </div>
                <div class="row pl-3 pr-2 pb-2">
                    <div class="col-sm-2">
                        <a (click)="goto('one',-1)" *ngIf="!widget.one.first">
                            <i class="fa fa-caret-left caretFont" aria-hidden="true"></i>
                        </a>
                    </div>
                    <div class="col-sm-8 text-center colorlightGray">
                        {{this.reportModel !== 'Monthly'?'':(widget.one.monthName + ',') }} {{widget.one.year}}
                    </div>
                    <div class="col-sm-2">
                        <a (click)="goto('one',1)" *ngIf="!widget.one.last">
                            <i class="fa fa-caret-right caretFont" aria-hidden="true"></i>
                        </a>
                    </div>
                </div>
                <div class="row p-2">
                    <div class="col-sm-12 text-center colorDarkBlue">
                        <h4>{{widget.one.value}}</h4>
                    </div>
                </div>
                <div class="text-center p-2">
                    <a class="btn btn-default" (click)="getDetails('one')">Detail</a>
                </div>
            </div>
        </div>
        <div class="col-sm-4 pl-0">
            <div class="backgroundWhite">
                <div class="text-center p-2">
                    Revenue
                    <span class="float-right">
                        <a (click)="goto('two',0)">
                            <i class="fa fa-refresh" aria-hidden="true"></i>
                        </a>
                    </span>
                    <hr class="m-2" />
                </div>
                <div class="row pl-3 pr-2 pb-2">
                    <div class="col-sm-2">
                        <a (click)="goto('two',-1)" *ngIf="!widget.two.first">
                            <i class="fa fa-caret-left caretFont" aria-hidden="true"></i>
                        </a>
                    </div>
                    <div class="col-sm-8 text-center colorlightGray">
                        {{this.reportModel !== 'Monthly'?'':(widget.two.monthName + ',') }} {{widget.two.year}}
                    </div>
                    <div class="col-sm-2">
                        <a (click)="goto('two',1)" *ngIf="!widget.two.last">
                            <i class="fa fa-caret-right caretFont" aria-hidden="true"></i>
                        </a>
                    </div>
                </div>
                <div class="row p-2">
                    <div class="col-sm-12 text-center colorDarkBlue">
                        <h4>{{widget.two.value | currency}}</h4>
                    </div>
                </div>
                <div class="text-center p-2">
                    <a class="btn btn-default" (click)="getDetails('two')">Detail</a>
                </div>
            </div>
        </div>
        <div class="col-sm-4 pl-0" *ngIf="false">
            <div class="backgroundWhite">
                <div class="text-center p-2">
                    Cart Abandonment
                    <span class="float-right">
                        <a (click)="goto('three',0)">
                            <i class="fa fa-refresh" aria-hidden="true"></i>
                        </a>
                    </span>
                    <hr class="m-2" />
                </div>
                <div class="row pl-3 pr-2 pb-2">
                    <div class="col-sm-2">
                        <a (click)="goto('three',-1)" *ngIf="!widget.three.first">
                            <i class="fa fa-caret-left caretFont" aria-hidden="true"></i>
                        </a>
                    </div>
                    <div class="col-sm-8 text-center colorlightGray">
                        {{this.reportModel !== 'Monthly'?'':(widget.manual.monthName + ',') }} {{widget.manual.year}}
                    </div>
                    <div class="col-sm-2">
                        <a (click)="goto('three',1)" *ngIf="!widget.three.last">
                            <i class="fa fa-caret-right caretFont" aria-hidden="true"></i>
                        </a>
                    </div>
                </div>
                <div class="row p-2">
                    <div class="row col-sm-12  text-center colorDarkBlue">
                        <h4 class="col-sm-6">{{widget.manual.value}}%</h4>
                        <h4 class="col-sm-6">{{widget.manual.value}}</h4>
                    </div>
                </div>
                <div class="text-center p-2">
                    <a class="btn btn-default" (click)="getDetails('manual')">Detail</a>
                </div>
            </div>
        </div>
        <div class="col-sm-4 pl-0">
            <div class="backgroundWhite">
                <div class="text-center p-2">
                    Returns
                    <span class="float-right">
                        <a (click)="goto('four',0)">
                            <i class="fa fa-refresh" aria-hidden="true"></i>
                        </a>
                    </span>
                    <hr class="m-2" />
                </div>
                <div class="row pl-3 pr-2 pb-2">
                    <div class="col-sm-2">
                        <a (click)="goto('four',-1)" *ngIf="!widget.four.first">
                            <i class="fa fa-caret-left caretFont" aria-hidden="true"></i>
                        </a>
                    </div>
                    <div class="col-sm-8 text-center colorlightGray">
                        {{this.reportModel !== 'Monthly'?'':(widget.four.monthName + ',')}} {{widget.four.year}}
                    </div>
                    <div class="col-sm-2">
                        <a (click)="goto('four',1)" *ngIf="!widget.four.last">
                            <i class="fa fa-caret-right caretFont" aria-hidden="true"></i>
                        </a>
                    </div>
                </div>
                <div class="row p-2">
                    <div class="row col-sm-12 text-center colorDarkBlue">
                        <h4 class="col-sm-6">{{widget.four.countValue}}</h4>
                        <h4 class="col-sm-6">{{widget.four.value| currency}}</h4>
                    </div>
                </div>
                <div class="text-center p-2">
                    <a class="btn btn-default" (click)="getDetails('four')">Detail</a>
                </div>
            </div>
        </div>
    </div>
    <div class="row mt-3">
        <div class="col-sm-12 pl-0">
            <chart [type]="type" class="backgroundWhite" [data]="data" [options]="options" style="width: 100%;height:400px;"></chart>
        </div>
    </div>
    <div class="row mt-3">
        <div class="col-sm-12 pl-0">
            <div class="backgroundWhite salesProduct">
                <h5 class="text-center p-3 m-0">
                    Top Product Types Sold
                </h5>
                <div class="row pt-2 p-2">
                    <div class="col-sm-2 text-center">
                        <a (click)="goto('grid',-1)" *ngIf="!widget.grid.first">
                            <i class="fa fa-caret-left caretFont" aria-hidden="true"></i>
                        </a>
                    </div>
                    <div class="col-sm-8 text-center colorlightGray">
                        {{this.reportModel !== 'Monthly'?'':(widget.grid.monthName + ',') }} {{widget.grid.year}}
                    </div>
                    <div class="col-sm-2 text-center">
                        <a (click)="goto('grid',1)" *ngIf="!widget.grid.last">
                            <i class="fa fa-caret-right caretFont" aria-hidden="true"></i>
                        </a>
                    </div>
                </div>
                <div class="row p-2 m-2" *ngIf="gridData && gridData.content.length>0">
                    <table class="table" width="100" sortable-table (sorted)="onSorted($event)">
                        <thead>
                            <th></th>
                            <th sortable-column="productPlace">Product Place</th>
                            <th sortable-column="productCategory">Category</th>
                            <th sortable-column="productSubCategory">Sub Category</th>
                            <th sortable-column="totalproduct">Total</th>
                        </thead>
                        <tbody *ngFor="let item of gridData.content | paginate: { id: 'client', itemsPerPage: size, currentPage: p , totalItems: gridData.content.length }; let idx = index">
                            <tr>
                                <td>{{(p>1?(p-1)*size:0) + idx+1}}</td>
                                <td>{{item.productPlace}}</td>
                                <td>{{item.productCategory}}</td>
                                <td>{{item.productSubCategory}}</td>
                                <td>{{item.totalproduct }}</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="col-sm-12 p-0 pt-3 pagination_align">
                        <pagination-controls id='client' class="my-pagination" (pageChange)="p = $event"></pagination-controls>
                    </div>
                </div>
                <h3 *ngIf="!gridData || !gridData.content || gridData.content.length == 0">No data is available</h3>
            </div>
        </div>
    </div>
</div>