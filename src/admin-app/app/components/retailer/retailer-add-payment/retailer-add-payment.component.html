<!-- <form class="divPayemnt1"> -->
<form novalidate [formGroup]="paymentFG1" [ngClass]="{'show': paymentInfoStep==1, 'hide': paymentInfoStep!==1 }">
    <div class="form-group">
        <label class="control-label" [ngClass]="validatorExt.displayFieldCss(paymentFG1.controls.paymentMethod)">Payment Method</label>
        <select class="ddl_default w-100 form-control" formControlName="paymentMethod" (change)="paymentMethodChange()">
            <option value=''>Select payment Method</option>
            <option *ngFor="let option of paymentMethods" value="{{option.name}}">
                {{option.value}}
            </option>
        </select>
        <!--Validation-->
        <app-field-error-display [field]="paymentFG1.controls.paymentMethod" [errorMsg]="errorMsgs"> </app-field-error-display>
        <!--Validation-->
    </div>
    <div class="form-group">
        <label class="control-label" [ngClass]="validatorExt.displayFieldCss(paymentFG1.controls.paymentVehicle)">Payment Vehicle</label>
        <select class="ddl_default w-100 form-control" formControlName="paymentVehicle" (change)="paymentVehicleChange()">
            <option value=''>Select option</option>
            <option *ngFor="let option of paymentVehicles" value="{{option.name}}">
                {{option.value}}
            </option>
        </select>
        <!--Validation-->
        <app-field-error-display [field]="paymentFG1.controls.paymentVehicle" [errorMsg]="errorMsgs"> </app-field-error-display>
        <!--Validation-->
    </div>
    <div class="row" *ngIf="isKalaAdmin">
        <div class="col-sm-6">
            <div class="form-group">
                <label class="control-label" [ngClass]="validatorExt.displayFieldCss(paymentFG1.controls.commissionRate)">Commission Rate(%)</label>
                <input type="number" class="form-control" placeholder="" pattern formControlName="commissionRate" max="100" min="0">
                <!--Validation-->
                <app-field-error-display [field]="paymentFG1.controls.commissionRate" [errorMsg]="errorMsgs"> </app-field-error-display>
                <!--Validation-->
            </div>
        </div>
        <div class="col-sm-6">
            <div class="form-group">
                <label class="control-label" [ngClass]="validatorExt.displayFieldCss(paymentFG1.controls.fixRate)">Fix Rate($)</label>
                <input type="number" class="form-control" placeholder="" pattern formControlName="fixRate">
                <!--Validation-->
                <app-field-error-display [field]="paymentFG1.controls.fixRate" [errorMsg]="errorMsgs"> </app-field-error-display>
                <!--Validation-->
            </div>
        </div>
    </div>
    <hr />
    <div class="form-group">
        <label class="control-label" [ngClass]="validatorExt.displayFieldCss(paymentFG1.controls.bankname)">Bank Name</label>
        <input type="text" class="form-control" placeholder="" pattern formControlName="bankname">
        <!--Validation-->
        <app-field-error-display [field]="paymentFG1.controls.bankname" [errorMsg]="errorMsgs"> </app-field-error-display>
        <!--Validation-->
    </div>
    <div class="form-group">
        <label class="control-label" [ngClass]="validatorExt.displayFieldCss(paymentFG1.controls.addressLine1)">Bank Address</label>
        <input type="text" class="form-control" placeholder="Address line 1" pattern formControlName="addressLine1">
        <!--Validation-->
        <app-field-error-display [field]="paymentFG1.controls.addressLine1" [errorMsg]="errorMsgs"> </app-field-error-display>
        <!--Validation-->
    </div>
    <div class="form-group">
        <input type="text" class="form-control" placeholder="Address line 2.(optional)" pattern formControlName="addressLine2">
        <!--Validation-->
        <app-field-error-display [field]="paymentFG1.controls.addressLine2" [errorMsg]="errorMsgs"> </app-field-error-display>
        <!--Validation-->
    </div>
    <div class="form-group">
        <input type="text" class="form-control" placeholder="City" pattern formControlName="city">
        <!--Validation-->
        <app-field-error-display [field]="paymentFG1.controls.city" [errorMsg]="errorMsgs"> </app-field-error-display>
        <!--Validation-->

    </div>
    <div class="row">
        <div class="col-sm-6">
            <div class="form-group">
                <!-- <input type="text" class="form-control" aria-describedby="" placeholder="State" pattern formControlName="state"> -->
                <select class="ddl_default w-100 form-control" formControlName="state" >
                    <option value=''>Select State</option>
                    <option *ngFor="let option of states" value="{{option}}">
                        {{option}}
                    </option>
                </select>
                <!--Validation-->
                <app-field-error-display [field]="paymentFG1.controls.state" [errorMsg]="errorMsgs"> </app-field-error-display>
                <!--Validation-->
            </div>
        </div>
        <div class="col-sm-6">
            <div class="form-group">
                <input type="text" class="form-control" aria-describedby="" onkeypress='return event.charCode >= 48 && event.charCode <= 57' placeholder="Zipcode" pattern formControlName="zipcode" maxlength="5">
                <!--Validation-->
                <app-field-error-display [field]="paymentFG1.controls.zipcode" [errorMsg]="errorMsgs"> </app-field-error-display>
                <!--Validation-->
            </div>
        </div>
    </div>
    <hr />
</form>

<div [formGroup]="paymentFG2" [ngClass]="{'show': paymentInfoStep==2, 'hide': paymentInfoStep!==2  }">
    <div class="form-group">
        <label class="control-label" [ngClass]="validatorExt.displayFieldCss(paymentFG2.controls.bankAccountName)">Account Name</label>
        <input type="text" class="form-control" aria-describedby="emailHelp" placeholder="" pattern formControlName="bankAccountName">
        <!--Validation-->
        <app-field-error-display [field]="paymentFG2.controls.bankAccountName" [errorMsg]="errorMsgs"> </app-field-error-display>
        <!--Validation-->
    </div>
    <div class="form-group">
        <label class="control-label" [ngClass]="validatorExt.displayFieldCss(paymentFG2.controls.bankAccountNumber)">Account Number</label>
        <input type="text" class="form-control" aria-describedby="emailHelp" placeholder="" pattern formControlName="bankAccountNumber">
        <!--Validation-->
        <app-field-error-display [field]="paymentFG2.controls.bankAccountNumber" [errorMsg]="errorMsgs"> </app-field-error-display>
        <!--Validation-->
    </div>
    <div class="form-group">
        <label class="control-label" [ngClass]="validatorExt.displayFieldCss(paymentFG2.controls.bankABARoutingNumber)">ABA Routing number</label>
        <input type="text" class="form-control" aria-describedby="emailHelp" placeholder="" pattern formControlName="bankABARoutingNumber">
        <!--Validation-->
        <app-field-error-display [field]="paymentFG2.controls.bankABARoutingNumber" [errorMsg]="errorMsgs"> </app-field-error-display>
        <!--Validation-->
    </div>
    <div class="form-group">
        <label class="control-label" [ngClass]="validatorExt.displayFieldCss(paymentFG2.controls.bankSwiftCode)">SWIFT code</label>
        <input type="text" class="form-control" aria-describedby="emailHelp" placeholder="" pattern formControlName="bankSwiftCode">
        <!--Validation-->
        <app-field-error-display [field]="paymentFG2.controls.bankSwiftCode" [errorMsg]="errorMsgs"> </app-field-error-display>
        <!--Validation-->
    </div>
    <div *ngIf="activateStripe">
        <div>
            <label class="control-label" [ngClass]="validatorExt.displayFieldCss(paymentFG2.controls.addressLine1)">Legal Contact</label>
        </div>
        <div class="row">
            <div class="form-group col-sm-6" *ngIf="activateStripe">
                <input type="text" class="form-control" placeholder="First Name" pattern formControlName="firstName">
                <!--Validation-->
                <app-field-error-display [field]="paymentFG2.controls.firstName" [errorMsg]="errorMsgs"> </app-field-error-display>
                <!--Validation-->
            </div>
            <div class="form-group col-sm-6" *ngIf="activateStripe">
                <input type="text" class="form-control" placeholder="Last Name" pattern formControlName="lastName">
                <!--Validation-->
                <app-field-error-display [field]="paymentFG2.controls.lastName" [errorMsg]="errorMsgs"> </app-field-error-display>
                <!--Validation-->
            </div>
        </div>
        <div class="row">
            <div class="form-group col-sm-6" *ngIf="activateStripe">
                <input type="text" class="form-control" placeholder="Last 4 digits of SSN" pattern formControlName="ssnlast4">
                <!--Validation-->
                <app-field-error-display [field]="paymentFG2.controls.ssnlast4" [errorMsg]="errorMsgs"> </app-field-error-display>
                <!--Validation-->
            </div>
            <div class="form-group col-sm-6" *ngIf="activateStripe">
                <div class="input-group">
                    <input readonly formControlName="inquiryDate" (focus)="d.open()" [minDate]="minDate" [maxDate]="maxDate" ngbDatepicker #d="ngbDatepicker" class="form-control" pattern formControlName="dob" placeholder="Date of Birth (yyyy-mm-dd)">
                    <div class="input-group-append">
                        <button class="btn btn-default ancProfile1" (click)="d.toggle()">
                            <i class="fa fa-calendar" aria-hidden="true"></i>
                        </button>
                    </div>
                </div>
                <!--Validation-->
                <app-field-error-display [field]="paymentFG2.controls.dob" [errorMsg]="errorMsgs"> </app-field-error-display>
                <!--Validation-->
            </div>
        </div>
        <div class="form-group">
            <!-- <label class="control-label" [ngClass]="validatorExt.displayFieldCss(paymentFG2.controls.addressLine1LegalContact)">Retailer address on Account</label> -->
            <input type="text" class="form-control" placeholder="Address line 1" pattern formControlName="addressLine1LegalContact">
            <!--Validation-->
            <app-field-error-display [field]="paymentFG2.controls.addressLine1LegalContact" [errorMsg]="errorMsgs"> </app-field-error-display>
            <!--Validation-->
        </div>
        <div class="form-group">
            <input type="text" class="form-control" placeholder="Address line 2.(optional)" pattern formControlName="addressLine2LegalContact">
            <!--Validation-->
            <app-field-error-display [field]="paymentFG2.controls.addressLine2LegalContact" [errorMsg]="errorMsgs"> </app-field-error-display>
            <!--Validation-->
        </div>
        <div class="form-group">
            <input type="text" class="form-control" placeholder="City" pattern formControlName="cityLegalContact">
            <!--Validation-->
            <app-field-error-display [field]="paymentFG2.controls.cityLegalContact" [errorMsg]="errorMsgs"> </app-field-error-display>
            <!--Validation-->
        </div>
        <div class="row">
            <div class="col-sm-6">
                <div class="form-group">
                    <!-- <input type="text" class="form-control" aria-describedby="" placeholder="State" pattern formControlName=""> -->
                    <select class="ddl_default w-100 form-control" formControlName="stateLegalContact" >
                        <option value=''>Select State</option>
                        <option *ngFor="let option of states" value="{{option}}">
                            {{option}}
                        </option>
                    </select>
                    <!--Validation-->
                    <app-field-error-display [field]="paymentFG2.controls.stateLegalContact" [errorMsg]="errorMsgs"> </app-field-error-display>
                    <!--Validation-->
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <input type="text" class="form-control" aria-describedby="" onkeypress='return event.charCode >= 48 && event.charCode <= 57' placeholder="Zipcode" pattern formControlName="zipcodeLegalContact" maxlength="5">
                    <!--Validation-->
                    <app-field-error-display [field]="paymentFG2.controls.zipcodeLegalContact" [errorMsg]="errorMsgs"> </app-field-error-display>
                    <!--Validation-->
                </div>
            </div>
        </div>
        <hr />
    </div>
    <div class="form-group">
        <label class="control-label" [ngClass]="validatorExt.displayFieldCss(paymentFG2.controls.addressLine1)">Retailer address on Account</label>
        <input type="text" class="form-control" placeholder="Address line 1" pattern formControlName="addressLine1">
        <!--Validation-->
        <app-field-error-display [field]="paymentFG2.controls.addressLine1" [errorMsg]="errorMsgs"> </app-field-error-display>
        <!--Validation-->
    </div>
    <div class="form-group">
        <input type="text" class="form-control" placeholder="Address line 2.(optional)" pattern formControlName="addressLine2">
        <!--Validation-->
        <app-field-error-display [field]="paymentFG2.controls.addressLine2" [errorMsg]="errorMsgs"> </app-field-error-display>
        <!--Validation-->
    </div>
    <div class="form-group">
        <input type="text" class="form-control" placeholder="City" pattern formControlName="city">
        <!--Validation-->
        <app-field-error-display [field]="paymentFG2.controls.city" [errorMsg]="errorMsgs"> </app-field-error-display>
        <!--Validation-->
    </div>
    <div class="row">
        <div class="col-sm-6">
            <div class="form-group">
                <!-- <input type="text" class="form-control" aria-describedby="" placeholder="State" pattern formControlName="state"> -->
                <select class="ddl_default w-100 form-control" formControlName="state" >
                    <option value=''>Select State</option>
                    <option *ngFor="let option of states" value="{{option}}">
                        {{option}}
                    </option>
                </select>
                <!--Validation-->
                <app-field-error-display [field]="paymentFG2.controls.state" [errorMsg]="errorMsgs"> </app-field-error-display>
                <!--Validation-->
            </div>
        </div>
        <div class="col-sm-6">
            <div class="form-group">
                <input type="text" class="form-control" aria-describedby="" onkeypress='return event.charCode >= 48 && event.charCode <= 57' placeholder="Zipcode" pattern formControlName="zipcode" maxlength="5">
                <!--Validation-->
                <app-field-error-display [field]="paymentFG2.controls.zipcode" [errorMsg]="errorMsgs"> </app-field-error-display>
                <!--Validation-->
            </div>
        </div>
    </div>
    <hr />
</div>

<div class="row">
    <div class="col-sm-6">
        <a (click)="paymentInfoBack()" class="ancDefault" *ngIf="paymentInfoStep!==1">back</a>
    </div>
    <div class="col-sm-6 text-right" [ngClass]="{'show': paymentInfoStep==1, 'hide': paymentInfoStep!==1 }">
        <a class="btn btn-default ancProfile1" (click)="paymentInfoNext()">Next</a>
    </div>
    <div class="col-sm-6 text-right" [ngClass]="{'show': paymentInfoStep==2, 'hide': paymentInfoStep!==2  }" *ngIf="!activateStripe">
        <button class="btn btn-default ancProfile1" [disabled]="paymentSaveloader" (click)="paymentInfoSave();">Save & Next
            <i class="fa fa-repeat fa-spin" aria-hidden="true" *ngIf="paymentSaveloader"></i>
        </button>
    </div>
    <div class="col-sm-6 text-right" [ngClass]="{'show': paymentInfoStep==2, 'hide': paymentInfoStep!==2  }" *ngIf="activateStripe && stripeInegrated">
        <button class="btn btn-default ancProfile1" [disabled]="paymentSaveloader" (click)="paymentInfoNextTab();">Next
            <i class="fa fa-repeat fa-spin" aria-hidden="true" *ngIf="paymentSaveloader"></i>
        </button>
    </div>
    <div class="col-sm-6 text-right" *ngIf="paymentInfoStep!==1 && activateStripe && !stripeInegrated">
        <button (click)="stripe()" class="btn btn-default ancProfile1" [disabled]="paymentSaveloader">Register Your Account with Stripe
            <i class="fa fa-repeat fa-spin" aria-hidden="true" *ngIf="paymentSaveloader"></i>
        </button>        
    </div>
    <div class="col-sm-6 text-right" *ngIf="paymentInfoStep!==1 && activateStripe && reActivateStripe && stripeInegrated">
        <button (click)="stripe()" class="btn btn-default ancProfile1" [disabled]="paymentSaveloader">Update / Register Your Account with Stripe
            <i class="fa fa-repeat fa-spin" aria-hidden="true" *ngIf="paymentSaveloader"></i>
        </button>        
    </div>
</div>
<!-- </form> -->